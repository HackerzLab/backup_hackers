# HackerzLab.博多 第８回勉強会
## 日時
2017/01/22 13時？

## 第8回ハッカークイズ問題

### 各レベルの問題数
* レベル1相当：2問
* レベル2相当：1問
* レベル3相当：3問
* レベル4相当：3問
* レベル5相当：1問

### 問題概要
* 問1(レベル1)：豆知識
* 問2(レベル1)：簡単な暗号を解いてみよう
* 問3(レベル2)：写真に写っているお店の名前は？
* 問4(レベル3)：ファイルの行数をカウントしてみよう
* 問5(レベル3)：WebサーバーのIPアドレスを調べよう
* 問6(レベル3)：Webサーバーを稼働しているホスティング・クラウド事業者は？
* 問7(レベル4)：WebサーバーのOSを調べよう
* 問8(レベル4)：特定のネットワークからのアクセスを防いでみよう
* 問9(レベル4)：パケットダンプファイルの解析をしてみよう
* 問10(レベル5)：パケットダンプファイルからデータを抽出してみよう


---

## 以下問題です。

### 問題1

#### レベル
レベル1

#### タイトル
豆知識

#### 問題内容
あなたは文字が消せるボールペンで書かれたメモを発見しました。  
しかし既に消されていて文字が読めません。これを復元する方法は次のうちどれでしょう。

* A：メモを燃やす
* B：メモを水につける
* C：メモを冷凍庫に入れる
* D：メモを牛乳につける

#### 問題区分
選択式

#### 正答
C

#### 添付ファイル

#### ヒント
1. 燃やすと復元できないです
2. 牛乳につけても意味はありません
3. 文字が消せるボールペンのインクは温度が一定以上になれば無色に変化します
4. 熱して無色になるのなら逆に冷まそう
5. 水につけるだけでは元に戻りません

#### 解説
このタイプのボールペンは熱をあたえて(摩擦熱)、  
一程の温度以上になると無色になります。  
無色になった状態から逆に冷ますと文字が(読めるくらいに)復元します。

---

### 問題2

#### レベル
1

#### タイトル
簡単な暗号を解いてみよう

#### 問題内容
次の暗号文を解読した結果をひらがなで入力してください。  

fklvklnlkdwlndudqdul

#### 問題区分
記述式

#### 正答
ちしきはちからなり

#### 添付ファイル

#### ヒント
1. 古代ローマ時代からあった暗号方式です
2. シーザー暗号と呼ばれるのが有名です
3. シーザ暗号はアルファベットを数文字ずらします
4. 力技で暗号文のアルファベットを一文字ずつずらしていくのも一つの手段
5. ネットで使える解読ツール http://ango.satoru.net/

#### 解説
力技で一文字ずつずらすのも良いですが、時間がかかって面倒ですね。  
そんな時はネットで「シーザー暗号　解読　ツール」などのキーワードで探してみる方が早く解決できます。

---

### 問題3

#### レベル
レベル2

#### タイトル
写真に写っているお店の名前は？

#### 問題内容
次の画像は、「ウエスト○○店」です。○○に入る店名を答えてください。

#### 問題区分
記述式

#### 正答
和白

#### 添付ファイル
HLH_20170122_01.jpg

#### ヒント
1. 画像を見てもヒントとなる建物はなさげ
2. HTMLソースを見てもtitleなどにヒントはなさげ
3. 画像をダウンロードしてみよう
4. 画像にはExif情報と呼ばれるものが埋め込まれている場合があります。
5. 画像のExif情報を確認する方法をネットで探してみよう。

#### 解説
画像のExif情報をもとに店名を探す問題です。  
Exif情報にはカメラの情報が埋め込まれている場合があります。  
カメラの情報以外にGPS情報(緯度経度)も含まれる場合があります。  
http://exif-check.org/

緯度経度(北緯33度41分32.718秒、東経130度26分4.14秒)を検索してみよう。  
http://earthjp.net/maps/  

---

### 問題4

#### レベル
3

#### タイトル
ファイルの行数をカウントしてみよう

#### 問題内容
次のファイルは何行あるでしょう。  
ただし、空の行(文字が書かれてない行)はカウント対象に含めません。

#### 問題区分
記述式

#### 正答
8946

#### 添付ファイル
HLH_20170122_02.txt

#### ヒント
1. エディタでファイル開き、目視で確認するのも一つの手段だけど超大変
2. ファイルの行数をカウントするコマンドがあります
3. 空の行を除外してカウントできれば・・・
4. 複数のコマンドはパイプ「|」で連結することができます
5. コマンドにはいろいろなオプションが用意されています

#### 解説
UNIXコマンドを使いこなす問題です。

UNIXコマンドでファイルの行数をカウント

```sh
cat ファイル名 | wc -l
```

総行数をカウントするなら上記のコマンドやエディタでファイルを開けば確認できますが、この問題では空行はカウントから除外する必要があります。

空行を除外する場合は以下のコマンドでカウントすることができます。

 
 
```sh
grep -v -e '^\s*$' ファイル名 | wc -l
```

もしくはこれでカウントできる場合もあります。
```sh
cat ファイル名 | grep -c ""
```

---

### 問題5

#### レベル
3

#### タイトル
WebサーバーのIPアドレスを調べよう

#### 問題内容
以下のURLのWebサイトが稼働しているサーバーのIPアドレスを入力してください。

http://hackers.jpn.org/

#### 問題区分
記述式

#### 正答
219.94.192.72

#### 添付ファイル

#### ヒント
1. IPアドレスとドメインは紐づけられています
2. 「hackers.jpn.org」がドメインです
3. ドメインからIPアドレスを調べる方法をネットで探そう
4. あるコマンドを使うことでIPアドレスが分かります
5. ターミナルorコマンドプロンプトで「nslookup hackers.jpn.org」を実行しましょう

#### 解説
IPアドレスを特定する方法はいくつかあります。

nslookupコマンド
digコマンド、
ブラウザの開発ツール

---

### 問題6

#### レベル
3

#### タイトル
Webサーバーを稼働しているホスティング・クラウド事業者は？

#### 問題内容
以下のURLのWebサイトが稼働しているサーバーのホスティング・クラウド事業者は次のうちどれでしょう。  

http://hackers.jpn.org/

* A：GMOクラウド
* B：Heroku
* C：Amazon AWS
* D：さくらインターネット

#### 問題区分
選択式

#### 正答
D

#### 添付ファイル

#### ヒント
1. 手っ取り早いのはIPアドレスから推測することです
2. ドメインのIPアドレスを調べよう
3. whoisコマンドでIPアドレスの情報をみてみよう
4. Windowsではwhoisコマンドが使えません
5. ネットでwhoisコマンドの結果を確認できるサイトがあります「https://www.cman.jp/network/support/ip.html」

#### 解説
Webサーバーの事業者を調べるには・・・

IPアドレスから推測する方法とツールを使う方法があります。

IPアドレスではドメインのIPアドレスを使ってwhoisコマンドを使うことである程度分かります。
このURL(ドメイン)のIPアドレスは、「219.94.192.72」です。
ターミナルで「whois 219.94.192.72」を実行すると、
「SAKURA Internet Inc.」と表示されることから、さくらインターネットということが推測できます。

もう一つの方法は、「netcraft」というツールorサイトを使う方法です。

---

### 問題7

#### レベル
4

#### タイトル
WebサーバーのOSを調べよう

#### 問題内容
以下のURLのWebサイトが稼働しているサーバーのOSを入力してください。

http://hackers.jpn.org/

* A：Windows Server 2008
* B：CentOS
* C：FreeBSD
* D：Ubuntu Server

#### 問題区分
選択式

#### 正答
B

#### 添付ファイル

#### ヒント
1. WebサーバーがIISであればWindowsOSになります。
2. このWebサイトはApacheで動いています。
3. netcraftというツールorサイトで調べられます。
4. https://www.netcraft.com/にアクセスしよう。
5. 「What’s that site running?」の箇所に調べたいドメインを入力してみよう。

#### 解説

WebサーバーのOSを調べるには、netcraftというツールorサイトで調べられます。
https://www.netcraft.com/にアクセスし、
「What’s that site running?」の箇所に調べたいドメイン「hackers.jpn.org」を入力しましょう。

---

### 問題8

#### レベル
4

#### タイトル
特定のネットワークからのアクセスを防いでみよう

#### 問題内容
あなたが管理しているWebサイトに次のIPアドレスから不正アクセスがあったとします。  

219.94.192.72  

あなたは、このサーバーが所属するネットワークからの全てのアクセスを遮断させたいので、  
.htaccessの内容を確認したところ以下の設定になっていました。  


```
order allow,deny
allow from all

deny from 125.64.0.0/13
deny from 82.238.88.0/22
deny from 62.210.128.0/17
deny from 191.96.249.100/24

```


219.94.192.72 

0.0.0.0

255.255.255.255

219.94.192.0/24

219.94.192.0

219.94.192.1
219.94.192.254

219.94.192.255


192.168.0.0/8

192.168.0.0/16
192.168.0.255/24

255.
8

1111 1111 1111 1111 1111 1111 





この設定に1行だけ追加してアクセスを遮断するには、どのような設定を追加すればよいでしょうか？
設定内容を入力してください。


#### 問題区分
記述式

#### 正答
deny from 219.94.192.0/24

#### 添付ファイル

#### ヒント
1. .htaccessを使うことでアクセス制限を行えます
2. 「allow from IPアドレス」と書くとIPアドレスからのアクセスを許可します
3. 「deny from IPアドレス」と書くとIPアドレスからのアクセスを遮断します
4. 「IPアドレス/数字」という書き方はIPアドレスを範囲を示すものです
5. 特定のIPアドレスだけの場合「IPアドレス/32」or「IPアドレス」の2通りの書き方があります

#### 解説
このサーバーが所属するネットワークはさくらインターネットです。  
ネットワークやISP事業者を探す場合は、whoisコマンドを使いましょう。  

whois [調べたいIPアドレス]

以下のような記述が結果に表示されます。  

```
〜 省略 〜
inetnum:        219.94.192.0 - 219.94.192.255
netname:        SAKURA-NET
descr:          SAKURA Internet Inc.
〜 省略 〜
```

ネットワークの範囲は「219.94.192.0 - 219.94.192.255」になります。
IPアドレスを範囲を.htaccessファイルに記述するときはCIDR形式で記述します。

「219.94.192.0 - 219.94.192.255」をCIDR形式に直すと、  
「219.94.192.0/24」となります。


---

### 問題9

#### レベル
4

#### タイトル
パケットダンプファイルの解析をしてみよう

#### 問題内容
添付のパケットダンプファイルはあるWebサーバとの通信をキャプチャしたものです。  
このWebサイトのタイトルを入力してください。  

#### 問題区分
記述式

#### 正答
<title>Hackerz Lab.博多</title>
もしくは
Hackerz Lab.博多

#### 添付ファイル
219_94_192_72_top.pcapng

#### ヒント
1. パケットとはネットワークを流れるデータのことです
2. キャプチャとはネットワークに流れるデータを監視・取得することを意味します
3. パケットダンプファイルとはネットワークを流れるデータを出力したファイルのことです
4. パケットダンプファイルを調べるにはツールが必要です
5. WireSharkというツールが有名です

#### 解説
パケットとはネットワークを流れるデータの単位やデータのことをさしてパケットと呼んだりします。  
ダンプファイルとは、データをそのまま出力することをダンプや、ファイルに出力したものをダンプファイルと呼んだりします。  

ネットワークのデータのやりとりやパケットの解析するツールはたくさんありますが、  
有名なものがWireSharkです。  
このツールを使って添付ファイルのパケットダンプファイルを読み込み解析してきましょう。


---

### 問題10

#### レベル
5

#### タイトル
パケットダンプファイルからデータを抽出してみよう

#### 問題内容
添付のパケットダンプファイルはあるWebサーバとの通信をキャプチャしたものです。  
このキャプチャからjpgファイルを探して復元し、
画像ファイルの中央に書かれている白い文字を入力してください。

#### 問題区分
記述式

#### 正答
ホワイトハッカー養成所 HackerzLab.博多
もしくは
ホワイトハッカー養成所HackerzLab.博多
もしくは
HackerzLab.博多

#### 添付ファイル
219_94_192_72_top_2.pcapng

#### ヒント
1. パケットとはネットワークを流れるデータのことです
2. キャプチャとはネットワークに流れるデータを監視・取得することを意味します
3. パケットダンプファイルとはネットワークを流れるデータを出力したファイルのことです
4. パケットダンプファイルを調べるにはツールが必要です
5. WireSharkというツールが有名です

#### 解説

実際にやってみる


---

### 問題

#### レベル

#### タイトル

#### 問題内容

#### 問題区分

#### 正答

#### 添付ファイル

#### ヒント

#### 解説

---

## ハッカークイズのレベルわけ

だいたいこんな感じ。  

* LEVEL１（初心者向け　非エンジニア）
 * ネットで調べ物(検索)ができる
* LEVEL2（中級者向け　SE・プログラマ経験者）
 * ターミナルやコマンドプロンプト（真っ黒画面）をつかったことがある
 * Unix/Linuxを使ったことがある
 * データベース(SQL)を使ったことがある
 * Web系の開発をしたことがある
* LEVEL3（中級者向け② 　現役エンジニア向け）
 * HTTPのシーケンスがわかる
 * ネットワークコマンドがある程度わかる
 * OS(Linux/Unix)のコマンドがある程度わかる
 * WebサーバやDBサーバの構築をしたことがある
 * ルータの設定をしたことがある
* LEVEL4（上級者向け 　わりとガチな人向け）
 * 普段からシステムの保守管理をやっている
 * ネットワークコマンドやOSのコマンドを普段から使っている
 * XSS,OSコマンドインジェクションがわかる
 * バイナリエディタを使ったことがある
 * GUIなんかよりCUIだろの人
 * Metasploitやハニーポット勉強中の人
 * セキュリティベンダやコミュニティのツイートをマメにチェックしている人
 * セキュリティ関連のIT記事をかかさずチェックしている人
* LEVEL5（超上級者向け 　本当に好きな人向け）
 * CTFをやっていますの人
 * Metasploit普段から使っている人
 * 迷惑メールで添付ファイルが付いていると喜ぶ人
 * ハニーポットでウハウハする人
 * 攻撃コードやマルウェアを手に入れてマジ解析している人
 * 実際やってる人

レベル4はセキュリティ系に興味のある人向け。  
レベル5は完全にガチな人向けの問題。
