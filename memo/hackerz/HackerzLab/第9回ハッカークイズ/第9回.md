# HackerzLab.博多 第9回勉強会
## 日時
2017/02/26 14:00 - 17:30

## 第9回ハッカークイズ問題

### 各レベルの問題数
* レベル1相当：1問
* レベル2相当：5問
* レベル3相当：2問
* レベル4相当：0問
* レベル5相当：2問

### 問題概要
* 問1(レベル1)：豆知識
* 問2(レベル2)：お菓子の名前
* 問3(レベル2)：プロトコルがヒュンヒュン
* 問4(レベル2)：SSL証明書について
* 問5(レベル2)：DNSサーバーのソフトウェアバージョン
* 問6(レベル2)：ゲームに勝って答えを見つけよう
* 問7(レベル3)：プロセスIDを調べよう
* 問8(レベル3)：子プロセスIDを調べよう
* 問9(レベル5)：突破してみようVol1
* 問10(レベル5)：突破してみようVol2

問1〜5：ネットで調べればわかると思います。
問6〜8：プログラム(JavaとC)を動かして解く問題です(Linux環境が推奨)。
問9〜10：ちょっと本格的です。

---

### 問題1

#### レベル
1

#### タイトル
ファイル共有は神聖なものなり

#### 問題内容
以下のマークをシンボルとしている宗教はなんという宗教でしょうか？

#### 問題区分
記述式

#### 添付ファイル
20170226_001.png

#### ヒント
1. この宗教では「ファイルの共有」は神聖な行いとされています
2. 本拠地はスウェーデンにあります
3. Ctrl-Cはコピーするときのキーボードショートカットです
4. Ctrl-Vはペーストするときのキーボードショートカットです
5. イーサク・イェショーンによって創始されました

#### 正答
コピミズム伝道教会

#### 解説
正式に認められている宗教です。2010年にイーサク・イェショーンによって創始されました。
ファイル共有は神聖な行いとされています。

https://ja.wikipedia.org/wiki/%E3%82%B3%E3%83%94%E3%83%9F%E3%82%BA%E3%83%A0%E4%BC%9D%E9%81%93%E6%95%99%E4%BC%9A

---
### 問題2

#### レベル
2

#### タイトル
お菓子

#### 問題内容
次の名前はあるものを表しています。

カップケーキ、ドーナツ、エクレア、フローズンヨーグルト、ジンジャーブレッド、ハニカム・・・

次の計算式の答えは何でしょうか？カタカナで答えてください。

マシュマロ - ドーナツ = ？


#### 問題区分
記述式

#### 添付ファイル
なし

#### ヒント
1. お菓子の名前ですね
2. 最近は、ヌガーやマシュマロになっているはずです
3. スマホに関係します
4. Androidに関係します
5. Androidのバージョンとお菓子名を調べましょう

#### 正答
キットカット

#### 解説
お菓子の名前は、Androidの各バージョンのコードネームです。
・マシュマロはバージョン(6.0)
・ドーナツはバージョン(1.6)
なので、「6.0 - 1.6 = 4.4」になります。バージョン4.4はキットカットです。

https://ja.wikipedia.org/wiki/Android%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E5%B1%A5%E6%AD%B4#Android_1.6_Donut

---
### 問題3

#### レベル
2

#### タイトル
プロトコルがヒュンヒュン！

#### 問題内容
次の２つのプロトコルのうち、一般的にデータが到達するのが速いと言われているプロトコルはどちらでしょうか？

「TCP」、「UDP」

#### 問題区分
記述式

#### 添付ファイル
なし

#### ヒント
1. TCPもUDPの通信規約です
2. TCPとUDPの違いを調べてみよう
3. TCPは信頼性があるプロトコルです
4. UDPはストリーミング配信などに使われています
5. UDPの方が速いといわれています

#### 正答
UDP

#### 解説
プロトコルとは世界的に決められた規約(約束ごと、決まりごと)のことです。
TCPもUDPもネットワーク通信を行う場合に使用されます。
TCPは送ったデータの一部がかけた場合は再送したりする決まりがあるので信頼性がありますが、
再送する分、伝送する速度に時間がかかってしまいます。
UDPはデータがかけても再送など行わないので、速く、データのやりとりする量も少なくて済みます。

---

### 問題4

#### レベル
2

#### タイトル
SSL証明書

#### 問題内容
次のWebサイトの中でCA局が「Cybertrust Japan」のSSL証明書を使っているのはどれでしょうか？

* A：セブン銀行
* B：福岡銀行
* C：西日本シティ銀行
* D：みずほ銀行

#### 問題区分
選択式

#### 添付ファイル
なし

#### ヒント
1. SSL証明書はブラウザとWebサーバー間の通信(やりとり)を暗号化します
2. SSL証明書はドメインと組織が正しいことを証明するものです
3. CA局とは認証局と呼ばれることもあります
4. CA局がSSL証明書を発行します
5. Webサイトで使っているSSL証明書を見てみよう

#### 正答
D

#### 解説
Webサイトで使っているSSL証明書は、ブラウザから見ることができます。


---

### 問題5

#### レベル
2

#### タイトル
DNSサーバーのソフトウェアバージョン

#### 問題内容
DNSサーバー(BIND)のIPアドレスが192.168.11.10だった場合、
DNSサーバーのバージョンを調べるコマンドは次のうちどれでしょうか？

* A：dig -v
* B：dig -x 192.168.11.10
* C：dig @192.168.11.10 version.bind
* D：dig @192.168.11.10 chaos txt version.bind

#### 問題区分
選択式

#### 添付ファイル
なし

#### ヒント
1. DNSサーバーはドメインとIPアドレスの対応表(紐づけ)を管理するサーバーです
2. digコマンドはdomain information groperと呼ばれるDNSサーバーから情報を引き出すツールです
3. DNSサーバーで広く使われていて有名なソフトウェアは「BIND」です
4. 「digコマンド DNSサーバー バージョン」で調べてみよう
5. dig -vはdigコマンドのバージョンを調べるときに使うので違います

#### 正答
D

#### 解説
古いソフトウェアには脆弱性（セキュリティホール）が存在します。
悪さする人はそんな脆弱性を探してきますので、
サーバーを構築する際にはバージョン情報などは表示しないような設定をすることが望ましいです。
※これはDNSサーバーだけでなくApacheなどのWebサーバーにも言えることです
※BINDというのは昔からあるDNSサーバーのソフトウェアです。
BIND以外のソフトで稼働させているときに、このコマンドでバージョンが表示されるかはわかりません。。


---

### 問題6

#### レベル
2

#### タイトル
ゲームに勝って答えを見つけよう

#### 問題内容
次のプログラムを動かしてゲームに勝ってください。
ゲームに勝つと以下の実行結果が表示されます。
実行結果の***の部分に入る文字列を入力してください。

実行結果
Your FLAG is HLH={***}

#### 問題区分
記述式

#### 添付ファイル
HLHQuiz_CountGame.class

#### ヒント
1. このファイルが何か特定しましょう
2. このファイルはJavaのクラスファイルです
3. コマンドで「java クラスファイル名(拡張子は不要)」とすると実行できます
4. カウントアップゲームです
5. 頑張ってゲームに勝ちましょう(勝つ法則を見つけよう)

#### 正答
I know what I need to know.

#### 解説
ゲームに勝つための法則を見つけましょう。
勝つためには特定の数を奪取する必要があります。
このプログラムは(バグってない限り)特定の数を必ず取得しようとします。

このゲームではある特定の数を取得すれば勝てます。
// 20がFLAG_COUNTとした場合、*の数を奪取すれば良い
//
// カウントアップできる範囲が2の場合
// 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
//     *           *           *           *         *        *        *
//
// カウントアップできる範囲が3の場合
// 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
//     *               *               *             *           *


つまりプレーヤーが勝つには先攻である必要があります。


---

### 問題7

#### レベル
3

#### タイトル
プロセスID？

#### 問題内容
次のファイルを実行して正しい入力を行うと、次の実行結果が表示されます。
実行結果の***の部分に入る文字列を入力してください。

Your FLAG is HLH={***}

#### 問題区分
記述式

#### 添付ファイル
HLHQuiz_getPID.class

#### ヒント
1. このファイルが何か特定しましょう
2. このファイルはJavaのクラスファイルです
3. コマンドで「java クラスファイル名(拡張子は不要)」とすると実行できます
4. 実行すると、このプロセスのプロセスIDの入力を求められます
5. プロセスIDを調べる方法を探しましょう

#### 正答
There is no spoon.

#### 解説
このファイルはJavaのクラスファイルです。(拡張子が.class)
実行方法は、「java クラスファイル名(拡張子不要)」で実行できますので、
「java HLHQuizNo1」で実行できます。

実行すると、「Enter the pid of the my process. => 」と表示されます。
「自分のプロセス(HLHQuizNo1.class)の、pid(プロセスID)を入力して」
とあるので、プロセスIDを調べましょう。

プロセスIDは、topコマンドやpsコマンドで調べることができます。
windowsの場合は、タスクマネージャで調べることができます。
プロセスIDを入力すると、「Your FLAG is HLH={There is no spoon.}」と表示されます。

---

### 問題8

#### レベル
3

#### タイトル
子プロセスID？

#### 問題内容
次のファイルを実行して正しい入力を行うと、次の実行結果が表示されます。
実行結果の***の部分に入る文字列を入力してください。

Your FLAG is HLH={***}

#### 問題区分
記述式

#### 添付ファイル
HLHQuiz_diffPID.out

#### ヒント
1. このファイルが何か特定しましょう
2. ファイルを調べるにはfileコマンドが使えます
3. このファイルはLinuxの実行ファイルです
4. ターミナルで実行するには「./HLHQuiz_diffPID.out」と入力します
5. プロセスIDを調べる方法を探しましょう

#### 正答
Neo, I believe.

#### 解説
このファイルはLinuxで動く実行ファイルです。
実行すると「child process id - parent process id = ?」と表示されます。
子プロセスID - 親プロセスIDの結果が聞かれます。
子プロセスも含めたプロセスIDを調べるには、psコマンドを使います。
ps auxf | grep HLH

---

### 問題9

#### レベル
5

#### タイトル
突破してみようVol1

#### 問題内容
次のURLアクセスするとログイン画面が表示されます。
ログイン画面を突破すると、次の実行結果が表示されます。
実行結果の***の部分に入る文字列を入力してください。

Your FLAG is HLH={***}

※URLは当日確認してください。(kiiまで)
※問題一覧の「Question:A001」を選んでください

#### 問題区分
記述式

#### 添付ファイル
なし

#### ヒント
1. SQLインジェクションの問題です
2. ログインIDとパスワードが合致するデータの数が0より大きい場合にログインできます
3. データベースはMySQLを使っています
4. SQLのコメントは「-- 」になります
5. SQLは「SELECT COUNT(*) as CNT FROM `challengers` WHERE login_id = 'ログインIDの入力値' and login_pass = 'パスワードの入力値'」になります

#### 正答
You see, he set me free.

#### 解説
実際に突破して説明

---

### 問題10

#### レベル
5

#### タイトル
突破してみようVol2

#### 問題内容
次のURLアクセスするとログイン画面が表示されます。
ログイン画面を突破すると、次の実行結果が表示されます。
実行結果の***の部分に入る文字列を入力してください。

Your FLAG is HLH={***}

※URLは当日確認してください。(kiiまで)
※問題一覧の「Question:A002」を選んでください

#### 問題区分
記述式

#### 添付ファイル
なし

#### ヒント
1. SQLインジェクションの問題です
2. ログインIDとパスワードの入力欄に文字数制限がかかっています
3. ブラウザの開発ツールを使ってHTMLを書き換えることできます
4. 入力欄の「maxlength」が文字数制限をかけている箇所です。maxlengthを消すことで文字数制限を解除できます。
5. このサイトのWebフレームワークはRubyonRailsを使っています

#### 正答
Matrix

#### 解説
実際に突破して説明

---

### 問題

#### レベル

#### タイトル

#### 問題内容

#### 問題区分

#### 添付ファイル

#### ヒント

#### 正答

#### 解説

---

## ハッカークイズのレベルわけ

だいたいこんな感じ。  

* LEVEL１（初心者向け　非エンジニア）
 * ネットで調べ物(検索)ができる
* LEVEL2（中級者向け　SE・プログラマ経験者）
 * ターミナルやコマンドプロンプト（真っ黒画面）をつかったことがある
 * Unix/Linuxを使ったことがある
 * データベース(SQL)を使ったことがある
 * Web系の開発をしたことがある
* LEVEL3（中級者向け② 　現役エンジニア向け）
 * HTTPのシーケンスがわかる
 * ネットワークコマンドがある程度わかる
 * OS(Linux/Unix)のコマンドがある程度わかる
 * WebサーバやDBサーバの構築をしたことがある
 * ルータの設定をしたことがある
* LEVEL4（上級者向け 　わりとガチな人向け）
 * 普段からシステムの保守管理をやっている
 * ネットワークコマンドやOSのコマンドを普段から使っている
 * XSS,OSコマンドインジェクションがわかる
 * バイナリエディタを使ったことがある
 * GUIなんかよりCUIだろの人
 * Metasploitやハニーポット勉強中の人
 * セキュリティベンダやコミュニティのツイートをマメにチェックしている人
 * セキュリティ関連のIT記事をかかさずチェックしている人
* LEVEL5（超上級者向け 　本当に好きな人向け）
 * CTFをやっていますの人
 * Metasploit普段から使っている人
 * 迷惑メールで添付ファイルが付いていると喜ぶ人
 * ハニーポットでウハウハする人
 * 攻撃コードやマルウェアを手に入れてマジ解析している人
 * 実際やってる人

レベル4はセキュリティ系に興味のある人向け。  
レベル5は完全にガチな人向けの問題。
